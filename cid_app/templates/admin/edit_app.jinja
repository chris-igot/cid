{% extends "/admin/loggedin_base.jinja" %}
{% block toptext %}CID - Administration{% endblock  %}
{% block navlinks %}
{% endblock  %}

{% block content %}
<div class="row">
    <div class="d-flex justify-content-center align-items-center">
        <form class="admin-login-form border rounded p-2 my-5 col-10 col-sm-8 col-md-6 col-lg-4 shadow" action="/admin/apps/{{app.id}}/edit" method="post">
			<h3 class="mt-2 mb-3">Edit {{app.name}}</h3>
			<div class="mb-2 form-floating">
				<input type="text" name="name" id="name" class="form-control" value="{{app.name}}" placeholder="placeholder"/>
				<label for="name" class="form-label mb-0">Name</label>
                {% with messages=get_flashed_messages(category_filter=["app_error_name"]) %}
                    {% for msg in messages %}
                        <small class="text-danger">{{msg}}</small><br>
                    {% endfor %}
                {% endwith %}
			</div>
			<div class="mb-2 form-floating">
				<input type="text" name="callback" id="callback" class="form-control" value="{{app.callback}}" placeholder="placeholder"/>
				<label for="callback" class="form-label mb-0">callback</label>
                {% with messages=get_flashed_messages(category_filter=["app_error_callback"]) %}
                    {% for msg in messages %}
                        <small class="text-danger">{{msg}}</small><br>
                    {% endfor %}
                {% endwith %}
			</div>
			{% with messages=get_flashed_messages(category_filter=["app_messages"]) %}
					{% for msg in messages %}
						<small class="text-danger">{{msg}}</small><br>
					{% endfor %}
			{% endwith %}
			<button type="submit" class="btn btn-primary mt-3">Update</button>
		</form>
    </div>
</div>
{% endblock  %}

    